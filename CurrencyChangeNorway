import numpy as np
import pandas as pd
import csv
import matplotlib.pyplot as plt
import matplotlib.dates as mdates
import datetime as dt

df = pd.read_csv('C:\\Users\\Weronika\\Desktop\\EXR\\EXR_Currency.csv', delimiter=';', decimal=',')
df = df.drop(['FREQ', 'Frekvens','Basisvaluta','Kvoteringsvaluta','TENOR','LÃ¸petid','DECIMALS','CALCULATED'],axis=1)
df['OBS_VALUE'] = df['OBS_VALUE'].replace(',', '.')

#DKK
DKK_values =df.loc[df['BASE_CUR'] == 'DKK']
DKK_values['OBS_VALUE'] = DKK_values['OBS_VALUE'].multiply(other = 0.01)
max_DKK_value =max(DKK_values['OBS_VALUE'])
min_DKK_value =min(DKK_values['OBS_VALUE'])
avg_DDK_value = DKK_values['OBS_VALUE'].mean()
print(avg_DDK_value)
print(max_DKK_value)
#Plot for the first currency
DKK_values['TIME_PERIOD'] = pd.to_datetime(DKK_values['TIME_PERIOD'], format='%Y-%m-%d', errors='coerce')
x = DKK_values['TIME_PERIOD']
y = DKK_values['OBS_VALUE']
locator = mdates.MonthLocator()
fmt = mdates.DateFormatter('%Y-%m')
plt.title('Changes in Danish Crone in relation to 1 Norwegian Crone')
plt.plot(x, y, color='green')
X = plt.gca().xaxis
X.set_major_locator(locator)
X.set_major_formatter(fmt)
plt.xticks(fontsize= 9, rotation = 90)
plt.show()

